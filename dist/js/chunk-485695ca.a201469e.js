(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-485695ca"],{6427:function(t,e,c){},"83c5":function(t,e,c){"use strict";var o=function(t){return{all:t=t||new Map,on:function(e,c){var o=t.get(e);o&&o.push(c)||t.set(e,[c])},off:function(e,c){var o=t.get(e);o&&o.splice(o.indexOf(c)>>>0,1)},emit:function(e,c){(t.get(e)||[]).slice().map((function(t){t(c)})),(t.get("*")||[]).slice().map((function(t){t(e,c)}))}}};e["a"]=o()},b14c:function(t,e,c){"use strict";c("6427")},d2f1:function(t,e,c){"use strict";c.r(e);var o=c("7a23"),a={class:"container"},n={"aria-label":"breadcrumb",class:"mt-5"},r={class:"breadcrumb"},i={class:"breadcrumb-item"},s=Object(o["createTextVNode"])("首頁"),d={class:"breadcrumb-item"},u=Object(o["createTextVNode"])("產品列表"),l={class:"breadcrumb-item active","aria-current":"page"},b={class:"row"},p={class:"col-md-6"},f={class:"productImg text-center"},h={class:"col-md-6"},j={class:"d-flex flex-column justify-content-between"},m={class:"h5"},O={class:"text-danger h3"},v={class:"row"},V={class:"col-md-6"},g={class:"input-group mb-3"};function y(t,e,c,y,N,x){var w=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[Object(o["createVNode"])("nav",n,[Object(o["createVNode"])("ol",r,[Object(o["createVNode"])("li",i,[Object(o["createVNode"])(w,{to:"/"},{default:Object(o["withCtx"])((function(){return[s]})),_:1})]),Object(o["createVNode"])("li",d,[Object(o["createVNode"])(w,{to:"/products"},{default:Object(o["withCtx"])((function(){return[u]})),_:1})]),Object(o["createVNode"])("li",l,Object(o["toDisplayString"])(N.product.title),1)])]),Object(o["createVNode"])("div",b,[Object(o["createVNode"])("div",p,[Object(o["createVNode"])("div",f,[Object(o["createVNode"])("img",{src:N.product.imageUrl,alt:"pic",class:"img-fluid",style:{"background-position":"center center","object-fit":"cover"}},null,8,["src"])])]),Object(o["createVNode"])("div",h,[Object(o["createVNode"])("div",j,[Object(o["createVNode"])("h1",null,Object(o["toDisplayString"])(N.product.title),1),Object(o["createVNode"])("del",m,"原價： "+Object(o["toDisplayString"])(N.product.origin_price)+" 元",1),Object(o["createVNode"])("p",O,"優惠價： "+Object(o["toDisplayString"])(N.product.price)+" 元",1),Object(o["createVNode"])("div",v,[Object(o["createVNode"])("div",V,[Object(o["createVNode"])("div",g,[Object(o["createVNode"])("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[1]||(e[1]=function(){return x.minus&&x.minus.apply(x,arguments)}),disabled:N.qty<=1}," - ",8,["disabled"]),Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"number",min:"1",class:"form-control",placeholder:"",disabled:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return N.qty=t})},null,512),[[o["vModelText"],N.qty,void 0,{number:!0}]]),Object(o["createVNode"])("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[3]||(e[3]=function(){return x.add&&x.add.apply(x,arguments)})}," + ")]),Object(o["createVNode"])("button",{class:"btn btn-primary",type:"button",onClick:e[4]||(e[4]=function(){return x.addCart&&x.addCart.apply(x,arguments)})},"加入購物車")])])])])])])}c("99af");var N=c("1940"),x=c.n(N),w=c("83c5"),k={data:function(){return{product:{},qty:1}},methods:{getProduct:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("linachen","/product/").concat(this.$route.params.id);this.$http.get(e).then((function(e){e.data.success&&(t.product=e.data.product)})).catch((function(t){console.log(t)}))},add:function(){this.qty+=1},minus:function(){this.qty>1&&(this.qty-=1)},addCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("linachen","/cart");this.$http.post(e,{data:{product_id:this.product.id,qty:this.qty}}).then((function(e){if(e.data.success)return x()({text:"已加入購物車",icon:"success",buttons:!1,timer:1e3}),t.$http.get("".concat("https://vue3-course-api.hexschool.io/","api/").concat("linachen","/cart"))})).then((function(e){e.data.success&&(t.isLoading=!1,w["a"].emit("cart-number",e.data.data.carts.length))})).catch((function(t){console.log(t)}))}},created:function(){this.getProduct()}};c("b14c");k.render=y;e["default"]=k}}]);
//# sourceMappingURL=chunk-485695ca.a201469e.js.map