{"version":3,"sources":["webpack:///./src/views/Product.vue?29a0","webpack:///./node_modules/mitt/dist/mitt.es.js","webpack:///./src/components/bus.js","webpack:///./src/views/Product.vue","webpack:///./src/views/Product.vue?c8fc"],"names":["all","n","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","mitt","class","aria-label","aria-current","to","product","title","src","imageUrl","alt","style","origin_price","price","type","minus","disabled","qty","min","placeholder","add","addCart","data","methods","getProduct","url","this","$route","params","id","$http","then","res","success","message","$router","catch","err","console","log","post","product_id","text","icon","buttons","timer","isLoading","bus","carts","length","created","render"],"mappings":"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","file":"js/chunk-7027ec48.c69abbef.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Product.vue?vue&type=style&index=0&id=111c9e40&lang=css\"","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i&&i.push(e)||n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&i.splice(i.indexOf(e)>>>0,1)},emit:function(t,e){(n.get(t)||[]).slice().map(function(n){n(e)}),(n.get(\"*\")||[]).slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.es.js.map\n","import mitt from 'mitt'\r\nexport default mitt()\r\n","<template>\r\n  <div class=\"container\">\r\n    <nav aria-label=\"breadcrumb\" class=\"mt-5\">\r\n      <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\"><router-link to=\"/\">首頁</router-link></li>\r\n        <li class=\"breadcrumb-item\"><router-link to=\"/products\">產品列表</router-link></li>\r\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">{{ product.title }}</li>\r\n      </ol>\r\n    </nav>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"productImg text-center\">\r\n          <img :src=\"product.imageUrl\" alt=\"pic\" class=\"img-fluid\" style=\"background-position: center center; object-fit: cover;\">\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-6\">\r\n        <div class=\"d-flex flex-column justify-content-between\">\r\n          <h1>{{ product.title }}</h1>\r\n          <del class=\"h5\">原價： {{ product.origin_price }} 元</del>\r\n          <p class=\"text-danger h3\">優惠價： {{ product.price }} 元</p>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n              <div class=\"input-group mb-3\">\r\n                <button class=\"btn btn-outline-secondary\" type=\"button\"  @click=\"minus\" :disabled=\"qty <= 1\"> - </button>\r\n                <input type=\"number\" min=\"1\" class=\"form-control\" placeholder=\"\" disabled v-model.number=\"qty\">\r\n                <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"add\"> + </button>\r\n              </div>\r\n              <button class=\"btn btn-primary\" type=\"button\" @click=\"addCart\">加入購物車</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<style>\r\n.productImg{\r\n  height: 300px;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport swal from 'sweetalert'\r\nimport bus from '../components/bus'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      product: {},\r\n      qty: 1\r\n    }\r\n  },\r\n  methods: {\r\n    getProduct () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${this.$route.params.id}`\r\n      this.$http.get(url)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.product = res.data.product\r\n          } else if (res.data.message === '找不到產品') {\r\n            this.$router.push('/products')\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    add () {\r\n      this.qty += 1\r\n    },\r\n    minus () {\r\n      if (this.qty > 1) {\r\n        this.qty -= 1\r\n      }\r\n    },\r\n    addCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.post(url, { data: { product_id: this.product.id, qty: this.qty } })\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            swal({\r\n              text: '已加入購物車',\r\n              icon: 'success',\r\n              buttons: false,\r\n              timer: 1000\r\n            })\r\n            return this.$http.get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`)\r\n          }\r\n        })\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.isLoading = false\r\n            bus.emit('cart-number', res.data.data.carts.length)\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getProduct()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Product.vue?vue&type=template&id=111c9e40\"\nimport script from \"./Product.vue?vue&type=script&lang=js\"\nexport * from \"./Product.vue?vue&type=script&lang=js\"\n\nimport \"./Product.vue?vue&type=style&index=0&id=111c9e40&lang=css\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}