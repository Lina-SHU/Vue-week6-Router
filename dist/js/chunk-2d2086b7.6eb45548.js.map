{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b"],"names":["class","for","type","login","errors","name","rules","placeholder","user","username","id","password","data","methods","url","this","$http","post","then","res","success","token","expired","document","cookie","Date","$router","push","text","icon","buttons","timer","render"],"mappings":"0IACOA,MAAM,a,GACJA,MAAM,qC,GACJA,MAAM,Y,EACT,yBAA6C,MAAzCA,MAAM,yBAAwB,UAAM,G,GAEjCA,MAAM,Q,EACT,yBAAgC,SAAzBC,IAAI,SAAQ,SAAK,G,GAIrBD,MAAM,Q,EACT,yBAAgC,SAAzBC,IAAI,YAAW,MAAE,G,EAI1B,yBAEM,OAFDD,MAAM,iCAA+B,CACxC,yBAAgE,UAAxDA,MAAM,yBAAyBE,KAAK,UAAS,Q,iMAhB/D,yBAqBM,MArBN,EAqBM,CApBJ,yBAmBM,MAnBN,EAmBM,CAlBJ,yBAiBM,MAjBN,EAiBM,CAhBJ,EACA,yBAcO,GAdoB,SAAQ,EAAAC,OAAK,C,8BACtC,gBADcC,EACd,EADcA,OACd,MADoB,CACpB,yBAIM,MAJN,EAIM,CAHJ,EACA,yBAA2L,GAApLF,KAAK,QAAQF,MAAK,CAAC,eAAc,cAAsCI,EAAO,WAA5CC,KAAK,QAAmDC,MAAM,iBAAiBC,YAAY,Y,WAAqB,EAAAC,KAAKC,S,qDAAL,EAAAD,KAAKC,SAAQ,IAAEC,GAAG,S,+BAC3K,yBAAqE,GAAtDL,KAAK,QAAQL,MAAM,uBAEpC,yBAIM,MAJN,EAIM,CAHJ,EACA,yBAAiL,GAA1KE,KAAK,WAAWF,MAAK,CAAC,eAAc,cAAmCI,EAAO,QAAzCC,KAAK,KAA6CC,MAAM,WAAWC,YAAY,Q,WAAiB,EAAAC,KAAKG,S,qDAAL,EAAAH,KAAKG,SAAQ,IAAED,GAAG,Y,+BAC9J,yBAAkE,GAAnDL,KAAK,KAAKL,MAAM,uBAEjC,M,8DAYK,GACbY,KADa,WAEX,MAAO,CACLJ,KAAM,KAGVK,QAAS,CACPV,MADO,WACE,WACDW,EAAE,UAAO,wCAAP,gBACRC,KAAKC,MAAMC,KAAKH,EAAKC,KAAKP,MACvBU,MAAK,SAACC,GACL,GAAIA,EAAIP,KAAKQ,QAAS,CACpB,MAA2BD,EAAIP,KAAvBS,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QACfC,SAASC,OAAT,mBAA8BH,EAA9B,qBAAgD,IAAII,KAAKH,IACzD,EAAKI,QAAQC,KAAK,eAElB,IAAK,CACHC,KAAM,SACNC,KAAM,QACNC,SAAS,EACTC,MAAO,YC7CrB,EAAOC,OAASA,EAED","file":"js/chunk-2d2086b7.6eb45548.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"row d-flex justify-content-center\">\r\n      <div class=\"col-md-8\">\r\n        <h2 class=\"mt-5 mb-3 text-center\">後台管理登入</h2>\r\n        <Form v-slot=\"{ errors }\" @submit=\"login\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"email\">Email</label>\r\n            <Field type=\"email\" class=\"form-control\" name=\"email\" :class=\"{ 'is-invalid': errors['email'] }\" rules=\"email|required\" placeholder=\"請輸入 Email\" v-model=\"user.username\" id=\"email\"></Field>\r\n            <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"password\">密碼</label>\r\n            <Field type=\"password\" class=\"form-control\" name=\"密碼\" :class=\"{ 'is-invalid': errors['密碼'] }\" rules=\"required\" placeholder=\"請輸入密碼\" v-model=\"user.password\" id=\"password\"></Field>\r\n            <error-message name=\"密碼\" class=\"invalid-feedback\"></error-message>\r\n          </div>\r\n          <div class=\"d-flex justify-content-center\">\r\n            <button class=\"btn btn-primary btn-lg\" type=\"submit\">登入</button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport swal from 'sweetalert'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      user: {}\r\n    }\r\n  },\r\n  methods: {\r\n    login () {\r\n      const url = `${process.env.VUE_APP_API}admin/signin`\r\n      this.$http.post(url, this.user)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            const { token, expired } = res.data\r\n            document.cookie = `hexToken=${token}; expires=${new Date(expired)}`\r\n            this.$router.push('/admin')\r\n          } else {\r\n            swal({\r\n              text: '帳號密碼錯誤',\r\n              icon: 'error',\r\n              buttons: false,\r\n              timer: 1000\r\n            })\r\n          }\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Login.vue?vue&type=template&id=d5282808\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}